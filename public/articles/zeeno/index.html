<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Building A Text based Books Recommendation engine | Home</title>
<meta name="keywords" content="Natural Language Processing, Transformers">
<meta name="description" content="Building a text-based books recommendation engine Find books by describing what they are about.
Finding books What does that really mean? A recommendation engine is an algorithm or bunch of algorithms that help users find contents about a particular modality(video, text etc). A text based recommendation engine is one that helps users find information about some text input.
Semantic Search Architecture Zeeno was built using a combination of semantic search and hybrid keyword search.">
<meta name="author" content="Damilola John">
<link rel="canonical" href="//localhost:1313/articles/zeeno/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.bf5f9f73cf17311d52cedbcda82c922e91b2f566d88a85ad9f5b5a08b586bd5f.css" integrity="sha256-v1&#43;fc88XMR1SztvNqCySLpGy9WbYioWtn1taCLWGvV8=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.acb54fd32bbc1982428b8850317e45d076b95012730a5936667e6bc21777692a.js" integrity="sha256-rLVP0yu8GYJCi4hQMX5F0Ha5UBJzClk2Zn5rwhd3aSo="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="//localhost:1313/static/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="//localhost:1313/static/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="//localhost:1313/static/favicon-32x32.png">
<link rel="apple-touch-icon" href="//localhost:1313/static/apple-touch-icon.png">
<link rel="mask-icon" href="//localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="//localhost:1313/articles/zeeno/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="Building A Text based Books Recommendation engine" />
<meta property="og:description" content="Building a text-based books recommendation engine Find books by describing what they are about.
Finding books What does that really mean? A recommendation engine is an algorithm or bunch of algorithms that help users find contents about a particular modality(video, text etc). A text based recommendation engine is one that helps users find information about some text input.
Semantic Search Architecture Zeeno was built using a combination of semantic search and hybrid keyword search." />
<meta property="og:type" content="article" />
<meta property="og:url" content="//localhost:1313/articles/zeeno/" />
<meta property="og:image" content="//localhost:1313/zeno-cover.jpg" /><meta property="article:section" content="articles" />
<meta property="article:published_time" content="2024-05-15T04:14:46+01:00" />
<meta property="article:modified_time" content="2024-05-15T04:14:46+01:00" /><meta property="og:site_name" content="Damilola John" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="//localhost:1313/zeno-cover.jpg" />
<meta name="twitter:title" content="Building A Text based Books Recommendation engine"/>
<meta name="twitter:description" content="Building a text-based books recommendation engine Find books by describing what they are about.
Finding books What does that really mean? A recommendation engine is an algorithm or bunch of algorithms that help users find contents about a particular modality(video, text etc). A text based recommendation engine is one that helps users find information about some text input.
Semantic Search Architecture Zeeno was built using a combination of semantic search and hybrid keyword search."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Articles",
      "item": "//localhost:1313/articles/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Building A Text based Books Recommendation engine",
      "item": "//localhost:1313/articles/zeeno/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Building A Text based Books Recommendation engine",
  "name": "Building A Text based Books Recommendation engine",
  "description": "Building a text-based books recommendation engine Find books by describing what they are about.\nFinding books What does that really mean? A recommendation engine is an algorithm or bunch of algorithms that help users find contents about a particular modality(video, text etc). A text based recommendation engine is one that helps users find information about some text input.\nSemantic Search Architecture Zeeno was built using a combination of semantic search and hybrid keyword search.",
  "keywords": [
    "Natural Language Processing", "Transformers"
  ],
  "articleBody": "Building a text-based books recommendation engine Find books by describing what they are about.\nFinding books What does that really mean? A recommendation engine is an algorithm or bunch of algorithms that help users find contents about a particular modality(video, text etc). A text based recommendation engine is one that helps users find information about some text input.\nSemantic Search Architecture Zeeno was built using a combination of semantic search and hybrid keyword search. The backend is built by deploying a serverless AWS lambda function from container images. The lambda function is triggered via API Gateway by queries from the frontend. The AWS Lambda function takes the users query and performs semantic search over a Pinecone vector database.\nFinetuning Embeddings The heart of this application is the sentence-transformer that takes user queries and embeds them into vectors that are searched against the embeddings of books in the database. The main idea is to create a latent space where books and queries that describe said books are close to each other. To achieve this, I finetuned a sentence-transformer using query-positive pairs and query-negative pairs (using a form of constrastive learning).\nCreating a latent-space that represents user-search intent and books matching those intents was the main aim of finetuning.\nReranking Our recommendation engine could be broke down into two parts :\nThe Sentence-Transformer The Reranker After the inital step of finding books that are most semantically similar to the user’s query. The next step was to use a Reranker to rank those recommendations.\nThe sentence-transformer was set to return the N most similar book descriptions to the users query. The Reranker then uses a combination of the user query’s vector representation, metadata about the book such as year of release, title, authors etc. to further rank those 30 returned books . The top 10 output of the reranker are then returned to the user.\nData Building a database of books was fun and explored lots of interesting tradeoffs and was an interesting experience in webscraping.\nCI/CD The CI/CD workflow was mainly based on\nServerless Hosting and Inference Putting it all together The whole application was built as a fastapi backend.\nMore to come Features I plan to integrate:\nthe ability to store user queries and returned recommendations. ",
  "wordCount" : "375",
  "inLanguage": "en",
  "image":"//localhost:1313/zeno-cover.jpg","datePublished": "2024-05-15T04:14:46+01:00",
  "dateModified": "2024-05-15T04:14:46+01:00",
  "author":{
    "@type": "Person",
    "name": "Damilola John"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "//localhost:1313/articles/zeeno/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Home",
    "logo": {
      "@type": "ImageObject",
      "url": "//localhost:1313/static/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="//localhost:1313/" accesskey="h" title="Home (Alt + H)">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="//localhost:1313/about" title="About Me">
                    <span>About Me</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/articles/" title="Articles">
                    <span>Articles</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="//localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="//localhost:1313/articles/">Articles</a></div>
    <h1 class="post-title">
      Building A Text based Books Recommendation engine
    </h1>
    <div class="post-meta">&lt;span title=&#39;2024-05-15 04:14:46 &#43;0100 WAT&#39;&gt;May 15, 2024&lt;/span&gt;&amp;nbsp;·&amp;nbsp;2 min&amp;nbsp;·&amp;nbsp;375 words&amp;nbsp;·&amp;nbsp;Damilola John

</div>
  </header> 
<figure class="entry-cover"><img loading="lazy" src="//localhost:1313/zeno-cover.jpg" alt="">
        
</figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#building-a-text-based--books-recommendation-engine" aria-label="Building a text-based  books recommendation engine">Building a text-based  books recommendation engine</a><ul>
                        
                <li>
                    <a href="#finding-books" aria-label="Finding books">Finding books</a></li>
                <li>
                    <a href="#semantic-search" aria-label="Semantic Search">Semantic Search</a></li>
                <li>
                    <a href="#architecture" aria-label="Architecture">Architecture</a></li>
                <li>
                    <a href="#finetuning-embeddings" aria-label="Finetuning Embeddings">Finetuning Embeddings</a></li>
                <li>
                    <a href="#reranking" aria-label="Reranking">Reranking</a></li>
                <li>
                    <a href="#data" aria-label="Data">Data</a></li>
                <li>
                    <a href="#cicd" aria-label="CI/CD">CI/CD</a></li>
                <li>
                    <a href="#serverless-hosting-and-inference" aria-label="Serverless Hosting and Inference">Serverless Hosting and Inference</a></li>
                <li>
                    <a href="#putting-it-all-together" aria-label="Putting it all together">Putting it all together</a></li>
                <li>
                    <a href="#more-to-come" aria-label="More to come">More to come</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="building-a-text-based--books-recommendation-engine">Building a text-based  books recommendation engine<a hidden class="anchor" aria-hidden="true" href="#building-a-text-based--books-recommendation-engine">#</a></h1>
<p>Find books by describing what they are about.</p>
<h2 id="finding-books">Finding books<a hidden class="anchor" aria-hidden="true" href="#finding-books">#</a></h2>
<p>What does that really mean?
A recommendation engine is an algorithm or bunch of algorithms that help users find contents about a particular modality(video, text etc). A text based recommendation engine is one that helps users find information about some text input.</p>
<h2 id="semantic-search">Semantic Search<a hidden class="anchor" aria-hidden="true" href="#semantic-search">#</a></h2>
<h2 id="architecture">Architecture<a hidden class="anchor" aria-hidden="true" href="#architecture">#</a></h2>
<p><a href="https://zeeno.vercel.app">Zeeno</a> was built using a combination of semantic search and hybrid keyword search. The backend is built by deploying a serverless AWS lambda function from container images. The lambda function is triggered via API Gateway by queries from the frontend. The AWS Lambda function takes the users query and performs semantic search over a Pinecone vector database.</p>
<h2 id="finetuning-embeddings">Finetuning Embeddings<a hidden class="anchor" aria-hidden="true" href="#finetuning-embeddings">#</a></h2>
<p>The heart of this application is the sentence-transformer that takes user queries and embeds them into vectors that are searched against the embeddings of books in the database. The main idea is to create a latent space where books and queries that describe said books are close to each other.
To achieve this, I finetuned a sentence-transformer using query-positive pairs and query-negative pairs (using a form of constrastive learning).</p>
<p>Creating a latent-space that represents user-search intent and books matching those intents was the main aim of finetuning.</p>
<h2 id="reranking">Reranking<a hidden class="anchor" aria-hidden="true" href="#reranking">#</a></h2>
<p>Our recommendation engine could be broke down into two parts :</p>
<ul>
<li>The Sentence-Transformer</li>
<li>The Reranker</li>
</ul>
<p>After the inital step of finding books that are most semantically similar to the user&rsquo;s query. The next step was to use a Reranker to rank those recommendations.</p>
<p>The sentence-transformer was set to return the N most similar book descriptions to the users query. The Reranker then uses a combination of the user query&rsquo;s vector representation, metadata about the book such as year of release, title, authors etc. to further rank those 30 returned books . The top 10 output of the reranker are then returned to the user.</p>
<h2 id="data">Data<a hidden class="anchor" aria-hidden="true" href="#data">#</a></h2>
<p>Building a database of books was fun and explored lots of interesting tradeoffs and was an interesting experience in webscraping.</p>
<h2 id="cicd">CI/CD<a hidden class="anchor" aria-hidden="true" href="#cicd">#</a></h2>
<p>The CI/CD workflow was mainly based on</p>
<h2 id="serverless-hosting-and-inference">Serverless Hosting and Inference<a hidden class="anchor" aria-hidden="true" href="#serverless-hosting-and-inference">#</a></h2>
<h2 id="putting-it-all-together">Putting it all together<a hidden class="anchor" aria-hidden="true" href="#putting-it-all-together">#</a></h2>
<p>The whole application was built as a fastapi backend.</p>
<h2 id="more-to-come">More to come<a hidden class="anchor" aria-hidden="true" href="#more-to-come">#</a></h2>
<p>Features I plan to integrate:</p>
<ul>
<li>the ability to store user queries and returned recommendations.</li>
<li></li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="//localhost:1313/tags/natural-language-processing/">Natural Language Processing</a></li>
      <li><a href="//localhost:1313/tags/transformers/">Transformers</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="//localhost:1313/articles/text-desrambler/">
    <span class="title">Next »</span>
    <br>
    <span>Finetuning GPT2 to Reconstruct Sentences</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>Copyright Damilola John © 2023</span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
